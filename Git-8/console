курс по консоли

https://github.com/arsbatyrov/bash
git clone https://github.com/arsbatyrov/bash.git

git co ветка
git reset --hard  //перезагрузить репозиторий



//ОБЩИЙ ВИД КОНСОЛИ
польз-тель@машина:/директория$      - это /
vesna-2017@машина:~директория$      - это /home/vesna-2017
/   - это корневой каталог
~   - это домашний каталог
$   clear- значит мы используем bush

pwd    - имя текущей директории от корня, "print working directory"
cd     - "change directory"
cd -   -вернуться в предыдущий каталог, 2 каталога по кругу
cd ~   -перейти в домашнюю директорию

cd ..        - перейти вверх, без "/" или со "/".
cd Desktop   - перейти вниз в папку
cd /home/vesna-2017/Desktop  - перейти по пути, начиная от корня
cd ~/Desktop                 - перейти по пути, начиная от домашней директории

 
//УДОБНЯШКИ
man ls     //справочник по ключам данной команды
q          //выйти из man'a 

для автозаполнения при наболе пути используем клавишу TAB


//СПИСОК СОДЕРЖИМОГО ПАПКИ
ls
ls -R    //если здесь есть папка, то будет показано и ее содержимое 
ls -l    //развернуто с указанием даты, размера и ...  
ls -a    //показать и скрытые файлы
ls -al   //показать и развернуто, и скрытые
ls -la   //аналогично "ls -al"

ls folder_name     //содержимое папки, которая лежит в текущей директории
ls -l folder_name  //можем добавлять и некоторые ключи


//СОЗДАНИЕ И УДАЛЕНИЕ ПАПОК и ФАЙЛОВ
touch my        //обновить дату файла, а если его нет, то создать
mkdir target    //создать папку

rm target       //удалить

//ПЕРЕМЕЩЕНИЕ И КОПИРОВАНИЕ 
mv path_объект path-куда             //переписываем ссылки, а не двигаем сам файл
mv path_объект .                     // .- это текущая директория
mv folder/* .                        //переместить Все ФАЙЛЫ  из данной папки (но не саму папку) в текущую (ибо- .) директорию.
mv path_объект path-куда_НОВОЕ-ИМЯ   //перемещение с переименованием

cp path_объект path-куда             //клонирование самого файла, а не только переписка ссылки на него


//УДАЛЕНИЕ
rm file
rm -r folder      //удаляем папку и все файлы в ней
rm -r ./*         //удаляем все содержимое папки, сама папка остается
rm -rf            //удаление даже системных папок
rm -ri folder     //удаление файлов в папке по-одному после запроса подтверждения


//ПРОСМОТР ФАЙЛА
cat              //конкатинация файлов, но ее используют для просмотра
cat file1 file2 >> my.txt //объединить содержимое этих 2 файлов и результат ззаписать в my.txt


less file1       //"удобная" утилита для просмотра файла
/слово           //обозначенное слово подсветиться



//nano- редактор
nano file1        //открыть-создать файл
^ - это обозначение CTRL


//vi- редактор
vi file1        //открыть-создать файл
i  =>можем писать
esc - закончить писать
:w  - сохранить
:q  - выйти
тупо не работает  ))

// ПОИСК В ФАЙЛЕ С ПОМОЩЬЮ GREP
grep auu fail1      //выведит все строчки с auu
grep -v auu fail1   //выведит все строчки, кроме содержащих auu

 
// ПОИСК ФАЙЛОВ И ПАПОК ПО ИХ ИМЕНИ
find корень_для_поиска ключи
find . -name my    //поиск файлов или папок в текущем каталоге по имени "my"
find . -name *_my 
find . -type d -name *_my_*   //поиск папок, название которой имеет сегмент _my_
find . -type f -name *_my_*   //поиск файлов
find . -type f -name *_my_* -delete -print  //найти, удалить и напечатать , что удалили

//ЗААПИСАТЬ ТЕКСТ В ФАЙЛ ИЗ КОНСОЛИ, а не непосредственно
echo "go" > my.txt  //ПЕРЕзапись
echo "go" >> my.txt  //дописать в конец

// знак |
вывод одной команды перенаправляет на вход другой команды


//СЛУЖЕБНЫЕ КОМАНДЫ
ps      //какие процессы запущены на компе
ps x    //процессы вне консоли
ps u    //процессы данного пользователя
ps au   //процессы по пользователям
ps aux  //абс все процессы

top       //table of processes, выход- q

kill <PID>        //остановить процесс, <PID>- это id процесса из ps
kill -9 <PID>     //остановить процесс жестко


//ПРОВЕРКА http-СОЕДИНЕНИЯ
ping secondwish.ru
ping -c 3 -i 5 secondwish.ru  //посылаем-получаем только 3 пакета через 5сек
ctrl + C


//curl 
curl secondwish.ru     //http-запрос(GET), в ответе- код сайта.
curl -L secondwish.ru  //http-запрос пойдет и на редиректный от исходного URL сайт
curl -X POST secondwish.ru --data "login=016" --data "pasword=548"   //http-запрос(POST)
curl -H "Cookie: kkjdbvljbv" secondwish.ru   //GET с хедером
  

//SSH и SCP
шифрованное подключение
>ssh user@URL_of_server
изменилась "польз-тель@машина" консоли
для выхода из соединения вводим
exit  

>scp откуда куда   //копирование между удаленной и локальной машинами
>scp user@URL_of_server:/папка/файл .


//ПЕРЕМЕННЫЕ ОКРУЖЕНИЯ
a="GO!"   //задаем переменную. Она видна только в текущем терминале.
echo a    //вывести переменную в терминал

cat ~/.barshrc >> .barshrc   //делаем бекап для получания возможности восстановления исходного вида файла (но как?)

запишем переменную глобально на компъютер  
каждый раз, когда стартует сессия bash (вводим bash)  будет выводиться "go ahead" - не правда... ))
echo 'echo "go ahead!"' >> ~/.barshrc  //
echo "a='go'"                          //создали переменную глобально
bash    //запустили новую сессию bash
exit    //закончить сессию

  

//СОЗДАНИЕ ALIAS для комплексных команд
alias gooo='каманда'

урок 21- прослушал

 



















\























 
